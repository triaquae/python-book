## 本节重点：

* 使学员了解面向对象概念、与面向过程的区别

> **本节时长需控制在30分钟内**

## 编程范式

编程即写程序or写代码，具体是指程序员用特定的语法+数据结构+算法编写代码，目的是用来告诉计算机如何执行任务 。

如果把编程的过程比喻为练习武功，那么编程范式指的就是武林中的各种流派，而在编程的世界里最常见的两大流派便是：面向过程与面向对象。

“功夫的流派没有高低之分，只有习武的人才有高低之分“，在编程世界里更是这样，面向过程与面向对象在不同的场景下都各有优劣，谁好谁坏不能一概而论，下面就让我们来详细了解它们。

### 面向过程的程序设计

#### 概念：

核心是“过程”二字，“过程”指的是解决问题的步骤，即先干什么再干什么......，基于面向过程设计程序就好比在设计一条流水线，是一种机械式的思维方式。若程序一开始是要着手解决一个大的问题，面向过程的基本设计思路就是把这个大的问题分解成很多个小问题或子过程，这些子过程在执行的过程中继续分解，直到小问题足够简单到可以在一个小步骤范围内解决。

#### **优点是**：

复杂的问题流程化，进而简单化（一个复杂的问题，分成一个个小的步骤去实现，实现小的步骤将会非常简单）

举个典型的面向过程的例子， 写一个数据远程备份程序， 分三步，本地数据打包，上传至云服务器，测试备份文件可用性。

```py
import os

def data_backup(folder):
    print("找到备份目录: %s" %folder)
    print('正在备份......')
    zip_file='/tmp/backup20181103.zip'
    print('备份成功，备份文件为: %s' %zip_file)
    return zip_file

def cloud_upload(file):
    print("\nconnecting cloud storage center...")
    print("cloud storage connected.")
    print("upload file...%s...to cloud..." %file)
    link='http://www.xxx.com/bak/%s' %os.path.basename(file)
    print('close connection.....')
    return link

def data_backup_test(link):
    print("\n下载文件: %s , 验证文件是否无损" %link)

def main():
    #步骤一：本地数据打包
    zip_file = data_backup("c:\\users\\alex\欧美100G高清无码")

    #步骤二：上传至云服务器
    link=cloud_upload(zip_file)

    #步骤三：测试备份文件的可用性
    data_backup_test(link)

if __name__ == '__main__':
    main()
```

#### **缺点是：**

一套流水线或者流程就是用来解决一个问题，比如生产汽水的流水线无法生产汽车，即便是能，也得是大改，改一个组件，与其相关的组件都需要修改，牵一发而动全身，扩展性极差。

比如我们修改了步骤二的函数cloud\_upload的逻辑，那么依赖于步骤二结果才能正常执行的步骤三的函数data\_backup\_test相关的逻辑也需要修改，这就造成了连锁反应，而这一弊端会随着程序的增大而变得越发的糟糕，我们程序的维护难度将会越来越大。

```py
import os

def data_backup(folder):
    print("找到备份目录: %s" %folder)
    print('正在备份......')
    zip_file='/tmp/backup20181103.zip'
    print('备份成功，备份文件为: %s' %zip_file)
    return zip_file

def cloud_upload(file): #加上异常处理，在出现异常的情况下，没有link返回
    try:
        print("\nconnecting cloud storage center...")
        print("cloud storage connected.")
        print("upload file...%s...to cloud..." % file)
        link = 'http://www.xxx.com/bak/%s' % os.path.basename(file)
        return link
    except Exception:
        print('upload error')
    finally:
        print('close connection.....')

def data_backup_test(link): #加上对参数link的判断
    if link:
        print("\n下载文件: %s , 验证文件是否无损" %link)
    else:
        print('\n链接不存在')
def main():
    #步骤一：本地数据打包
    zip_file = data_backup("c:\\users\\alex\欧美100G高清无码")

    #步骤二：上传至云服务器
    link=cloud_upload(zip_file)

    #步骤三：测试备份文件的可用性
    data_backup_test(link)

if __name__ == '__main__':
    main()
```

#### 应用场景：

面向过程的程序设计思想一般用于那些功能一旦实现之后就很少需要改变的场景， 如果你只是写一些简单的脚本，去做一些一次性任务，用面向过程的方式是极好的，著名的例子有Linux內核，git，以及Apache HTTP Server等。但如果你要处理的任务是复杂的，且需要不断迭代和维护 的， 那还是用面向对象最方便了。

### 面向对象的程序设计

#### 概念：

核心是“对象”二字，要理解对象为何物，必须把自己当成上帝，在上帝眼里，世间存在的万物皆为对象，不存在的也可以创造出来。程序员基于面向对象设计程序就好比如来设计西游记，如来要解决的问题是把经书传给东土大唐，如来并没有考虑问题的解决流程，而是设计出了负责取经的师傅四人：唐僧，沙和尚，猪八戒，孙悟空，负责骚扰的一群妖魔鬼怪，以及负责保驾护航的一众神仙，这些全都是对象，然后取经开始，就是师徒四人与妖魔鬼怪神仙交互着直到完成取经任务。所以说基于面向对象设计程序就好比在创造一个世界，世界是由一个个对象组成，而你就是这个世界的上帝。

我们从西游记中的任何一个人物对象都不难总结出：对象是特征与技能的结合体。比如孙悟空的特征是：毛脸雷公嘴，技能是：七十二变、火眼金睛等。

与面向过程机械式的思维方式形成鲜明对比，面向对象更加注重对现实世界而非流程的模拟，是一种“上帝式”的思维方式。

#### **优点是**：

解决了面向过程可扩展性低的问题，这一点我们将在5.2小节中为大家验证，需要强调的是，对于一个软件质量来说，面向对象的程序设计并不代表全部，面向对象的程序设计只是用来解决扩展性问题。

![](/assets/import.png)

#### 缺点是：

编程的复杂度远高于面向过程，不了解面向对象而立即上手并基于它设计程序，极容易出现过度设计的问题，而且在一些扩展性要求低的场景使用面向对象会徒增编程难度，比如管理linux系统的shell脚本程序就不适合用面向对象去设计，面向过程反而更加适合。

#### 应用场景：

当然是应用于需求经常变化的软件中，一般需求的变化都集中在用户层，互联网应用，企业内部软件，游戏等都是面向对象的程序设计大显身手的好地方。

