求100不断除以2直到商为0为止，打印每次除的商

用循环实现

```py
n = 100
while n > 0:
    n = int(n/2)
    print(n)

```

输出：

50  
  
25  
  
12  
  
6  
  
3  
  
1  
  
0

如果用函数，如何实现呢？

```py
def calc(n):
    n = int(n/2)
    print(n)
    if n > 0:
        calc(n) #调用自己
calc(100)
```

在函数内部，可以调用其他函数。如果一个函数在内部调用自已本身，这个函数就叫做递归函数。上面我们写的这个代码就是递归

#### 递归的执行过程

```py
def calc(n):
    n = int(n/2)
    print(n)
    if n > 0:
         calc(n)
    print(n) 
calc(10)
```

输出：

5  
  
2  
  
1  
  
0  
  
0  
  
1  
  
2  
  
5  
  
为什么输出是这样呢？

![](https://book.apeland.cn/media/images/2019/03/21/chapter3-.png)

如上图所示，函数在每进入下一层的时候，当前层的函数并未结束，它必须等它调用的下一层函数执行结束返回后才能继续往下走。 所以最下面的那句print\(n\)会等最里层的函数执行时才会执行，然后不断往外退层，所以会出现0、1、2、5的效果

**递归特性:**

1. 必须有一个明确的结束条件

2. 每次进入更深一层递归时，问题规模相比上次递归都应有所减少

3. 递归效率不高，递归层次过多会导致栈溢出（在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出）

递归在特定场景下还是挺有用的，以后学的一些算法就得用到递归，比如堆排、快排等，现在看还是有些复杂的，以后再讲。

## 练习题

用递归实现2分查找的算法，以从列表 a = \[1,3,4,6,7,8,9,11,15,17,19,21,22,25,29,33,38,69,107\] 查找指定的值。

注：参考答案在本章最后的练习题部分，但尽量先自己先。

