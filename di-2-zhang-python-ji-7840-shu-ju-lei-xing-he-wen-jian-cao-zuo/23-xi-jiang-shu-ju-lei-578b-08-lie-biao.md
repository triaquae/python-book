第一章我们大概介绍了列表的基本用法，本节我们学习下

**定义：**\[\]内以逗号分隔，按照索引，存放各种数据类型，每个位置代表一个元素

**再回顾下列表的特点：**

1.可存放多个值

2.按照从左到右的顺序定义列表元素，下标从0开始顺序访问，有序



![](https://book.apeland.cn/media/images/2019/03/02/list.png)

3.可修改指定索引位置对应的值，可变

## 列表的增加操作

**追加**，数据会追加到尾部

```py
>>> names
['alex', 'jack']
>>> names.append("rain")
>>> names.append("eva")
>>> 
>>> names
['alex', 'jack', 'rain', 'eva']
```

**插入**，可插入任何位置

```py
>>> names.insert(2,"黑姑娘")
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva']
>>> 
```

**合并**,可以把另一外列表的值合并进来

```py
>>> n2 = ["狗蛋","绿毛","鸡头"]
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva']
>>> names.extend(n2)
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛', '鸡头']
```

**列表嵌套**

```py
>>> names.insert(2,[1,2,3])
>>> names 
['alex', 'jack', [1, 2, 3], '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛', '鸡头']
>>> names[2][1]
2
```



## 删除操作

**del 直接删**

```py
>>> names
['alex', 'jack', [1, 2, 3], '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛', '鸡头']
>>> del names[2]
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛', '鸡头']
```

**pop 删**

```py
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛', '鸡头']
>>> names.pop() #默认删除最后一个元素并返回被删除的值
'鸡头'
>>> names
['alex', 'jack', '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛']
>>> help(names.pop)
>>> names.pop(1)  #删除指定元素
'jack'
```

**clear 清空**

```py
>>> n2
['狗蛋', '绿毛', '鸡头']
>>> n2.clear()
>>> n2
[]
```

## 修改操作

```py
>>> names
['alex', '黑姑娘', 'rain', 'eva', '狗蛋', '绿毛']
>>> names[0] = "金角大王"
>>> names[-1] = "银角大王"
>>> names
['金角大王', '黑姑娘', 'rain', 'eva', '狗蛋', '银角大王']
```

## 查操作

```py
>>> names
['金角大王', '黑姑娘', 'rain', 'eva', '狗蛋', '银角大王', 'eva']
>>> 
>>> names.index("eva") #返回从左开始匹配到的第一个eva的索引
3
>>> names.count("eva") #返回eva的个数
2
```

## 切片

切片就像切面包，可以同时取出元素的多个值

```py
names[start:end]
```

```py
>>> names
['金角大王', '黑姑娘', 'rain', 'eva', '狗蛋', '银角大王', 'eva']
>>> names[1:4]  #不包含下标4的元素
['黑姑娘', 'rain', 'eva']
```

\*切片的特性是顾头不顾尾，即start的元素会被包含，end-1是实际取出来的值

**倒着切**

```py
>>> names[-5:-1]
['rain', 'eva', '狗蛋', '银角大王']
```

但其实我想要的是后5个，只打印了4个，’eva’这个值没出来，为什么，因为上面提到的顾头不顾尾

可是想把后5个全取出来如何做呢？

```py
>>> names[-5:]
['rain', 'eva', '狗蛋', '银角大王', 'eva']
```

如果取前几个值 ，一样可以把:号左边的省掉

```py
>>> names
['金角大王', '黑姑娘', 'rain', 'eva', '狗蛋', '银角大王', 'eva']
>>> names[0:3]
['金角大王', '黑姑娘', 'rain']
>>> names[:3]  #跟上面一样的效果
['金角大王', '黑姑娘', 'rain']
```

**步长，**允许跳着取值

```py
names[start:end:step] #step 默认是1
```

```py
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> a[0:7:2]  #设置步长为2
[0, 2, 4, 6]
```

```py
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> 
>>> a[::3] #按步长3打印列表，第1个:是省略掉的start:end
[0, 3, 6, 9]
```

**列表反转**

```py
>>> a[::-1] #通过把步长设置成负值，可达到列表返转的效果
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0] 
>>> a[::-2]
[9, 7, 5, 3, 1]
```

## 排序&反转

**排序**

```py
>>> a = [83,4,2,4,6,19,33,21]
>>> a.sort()
>>> a
[2, 4, 4, 6, 19, 21, 33, 83]
```

下面的排序结果为何如何解释？

```py
>>> names=['金角大王', 'rain', '@', '黑姑娘', '狗蛋', "4","#",'银角大王', 'eva']
>>> names.sort()
>>> names
['#', '4', '@', 'eva', 'rain', '狗蛋', '金角大王', '银角大王', '黑姑娘']
```

答案全在这张表上，虽然后面我们会讲，但现在先知道，排序的优化级规则是按这张表来的

![](https://book.apeland.cn/media/images/2019/03/02/ascii.jpg)

**反转**

```py
>>> names
['#', '4', '@', 'eva', 'rain', '狗蛋', '金角大王', '银角大王', '黑姑娘']
>>> names.reverse()
>>> names
['黑姑娘', '银角大王', '金角大王', '狗蛋', 'rain', 'eva', '@', '4', '#']
```



## 循环列表

```py
>>> for i in names:  
...     print(i)
... 
黑姑娘
银角大王
金角大王
狗蛋
rain
eva
@
4
#
```



## 练习

针对列表names=\[‘金角大王’, ‘黑姑娘’, ‘rain’, ‘eva’, ‘狗蛋’, ‘银角大王’, ‘eva’,’鸡头’\]进入以下操作

1. 通过names.index\(\)的方法返回第2个eva的索引值

2. 把以上的列表通过切片的形式实现反转

3. 打印列表中所有下标为奇数的值

4. 通过names.index\(\)方法找到第2个eva值 ，并将其改成EVA

5. 
## 编程练习-购物车程序开发

##### 根据以下数据结构：

```py
goods = [
{"name": "电脑", "price": 1999},
{"name": "鼠标", "price": 10},
{"name": "游艇", "price": 20},
{"name": "美女", "price": 998},
......
]
```

##### 实现功能要求：

1、启动程序后，让用户输入工资，然后进入循环，打印商品列表和编号

2、允许用户根据商品编号选择商品

3、用户选择商品后，检测余额是否够，够就直接扣款，并加入购物车， 不够就提醒余额不足

4、可随时退出，退出时，打印已购买商品和余额

